\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[main=russian, english]{babel}

\usepackage{microtype}
\sloppy

%% ГОСТ 7.32-2017
%% 6.1 Общие требования
%%
%% 6.1.1 Изложение текста и оформление отчета выполняют в соответствии с требованиями настоящего стандарта.
%% Страницы текста отчета о НИР и включенные в отчет иллюстрации и таблицы должны соответствовать формату А4 по ГОСТ 9327.
%% Допускается применение формата А3 при наличии большого количества таблиц и иллюстраций данного формата.
%%
%% Отчет о НИР должен быть выполнен любым печатным способом на одной стороне листа белой бумаги формата А4 через полтора интервала.
\usepackage[onehalfspacing]{setspace}
%%%% Однако, «полуторный интервал» в ворде неправильный, и этот коэффициент, по расчётам наших инженеров, приблизительно ему идентичен:
\newcommand{\WordOneHalfSpacing}{1.425}
\setstretch{\WordOneHalfSpacing}
%%%% Для исправления заголовков в начале страницы:
\newenvironment{FixLineStretch}[1][1.0]
	{\setstretch{#1}}%
	{\setstretch{\WordOneHalfSpacing}}
%%
%% Допускается при подготовке заключительного отчета о НИР печатать через один интервал, если отчет имеет значительный объем (500 и более страниц).
%% Цвет шрифта должен быть черным, размер шрифта — не менее 12 пт.
%% Рекомендуемый тип шрифта для основного текста отчета — Times New Roman.
\usepackage{paratype}
\renewcommand{\rmdefault}{PTSerif-TLF}
\renewcommand{\ttdefault}{PTMono-TLF}
%% Полужирный шрифт применяют только для заголовков разделов и подразделов, заголовков структурных элементов.
%% Использование курсива допускается для обозначения объектов (биология, геология, медицина, нанотехнологии, генная инженерия и др.) и написания терминов (например, in vivo, in vitro) и иных объектов и терминов на латыни.
%%
%% Для акцентирования внимания может применяться выделение текста с помощью шрифта иного начертания, чем шрифт основного текста, но того же кегля и гарнитуры.
%% Разрешается для написания определенных терминов, формул, теорем применять шрифты разной гарнитуры.
%%%% Приложение 1 к Положению о нормконтроле:
%%%% Разрешается использовать компьютерные возможности акцентирования внимания на определенных терминах, формулах, теоремах, применяя разное начертание шрифта.
\newcommand{\Accent}[1]{\textbf{#1}}
%%
%% Текст отчета следует печатать, соблюдая следующие размеры полей: левое — 30 мм, правое — 15 мм, верхнее и нижнее — 20 мм.
\newcommand{\PageLeftMargin}{30mm}
\newcommand{\PageRightMargin}{15mm}
\newcommand{\PageTopMargin}{20mm}
\newcommand{\PageBottomMargin}{20mm}
%%%% Приложение 1 к Положению о нормконтроле:
%%%% В ВКР необходимо соблюдать следующие размеры полей страницы: левое — 3 см, правое — 1 см, верхнее — 2 см, нижнее — 2 см.
\renewcommand{\PageLeftMargin}{3cm}
\renewcommand{\PageRightMargin}{1cm}
\renewcommand{\PageTopMargin}{2cm}
\renewcommand{\PageBottomMargin}{2cm}

\usepackage[
	showframe,%
	left=\PageLeftMargin,%
	right=\PageRightMargin,%
	top=\PageTopMargin,%
	bottom=\PageBottomMargin,%
	headsep=0pt%
]{geometry}
%% Абзацный отступ должен быть одинаковым по всему тексту отчета и равен 1,25 см.
\usepackage{indentfirst}
\setlength{\parindent}{1.25cm}

\setlength{\parskip}{1ex}
%%
%% 6.1.2 Вне зависимости от способа выполнения отчета качество напечатанного текста и оформления иллюстраций, таблиц, распечаток программ должно удовлетворять требованию их четкого воспроизведения.
%%
%% 6.1.3 При выполнении отчета о НИР необходимо соблюдать равномерную плотность и четкость изображения по всему отчету.
%% Все линии, буквы, цифры и знаки должны иметь одинаковую контрастность по всему тексту отчета.
%%
%% 6.1.4 Фамилии, наименования учреждений, организаций, фирм, наименования изделий и другие имена собственные в отчете приводят на языке оригинала.
%% Допускается транслитерировать имена собственные и приводить наименования организаций в переводе на язык отчета с добавлением (при первом упоминании) оригинального названия по ГОСТ 7.79.
%%
%% 6.1.5 Сокращения слов и словосочетаний на русском, белорусском [1] и иностранных европейских языках оформляют в соответствии с требованиями ГОСТ 7.11, ГОСТ 7.12.
%%   [1] Для Республики Беларусь применим СТБ 7.12.
%%
%% 6.2 Построение отчета
%%
%% 6.2.1 Наименования структурных элементов отчета: "СПИСОК ИСПОЛНИТЕЛЕЙ", "РЕФЕРАТ", "СОДЕРЖАНИЕ", "ТЕРМИНЫ И ОПРЕДЕЛЕНИЯ", "ПЕРЕЧЕНЬ СОКРАЩЕНИЙ И ОБОЗНАЧЕНИЙ", "ВВЕДЕНИЕ", "ЗАКЛЮЧЕНИЕ", "СПИСОК ИСПОЛЬЗОВАННЫХ ИСТОЧНИКОВ", "ПРИЛОЖЕНИЕ" служат заголовками структурных элементов отчета.
\AtBeginDocument{\renewcommand\contentsname{Содержание}}
%%
%% Заголовки структурных элементов следует располагать в середине строки без точки в конце, прописными буквами, не подчеркивая.
%% Каждый структурный элемент и каждый раздел основной части отчета начинают с новой страницы.
%%%% Приложение 1 к Положению о нормконтроле:
%%%% Допускается использование шрифта размером 15—16 пунктов с полужирным начертанием.
\usepackage{titlesec}

\newcommand{\ChapterLeftMargin}{}
\newcommand{\ChapterFormat}{}
\newcommand{\ChapterSep}{}
\newcommand{\ChapterBeforeCode}{}

\newcommand{\bigsize}{\fontsize{16pt}{20pt}\selectfont}

\newcommand{\SetMainPartChapterSettings}{%
	\renewcommand{\ChapterLeftMargin}{\parindent}%
	\renewcommand{\ChapterFormat}{\bigsize\bfseries}%
	\renewcommand{\ChapterSep}{1em}%
	\renewcommand{\ChapterBeforeCode}{}%
}

\newcommand{\SetStructuralElementChapterSettings}{%
	\renewcommand{\ChapterLeftMargin}{0pt}%
	\renewcommand{\ChapterFormat}{\bigsize\filcenter\bfseries}%
	\renewcommand{\ChapterSep}{}%
	\renewcommand{\ChapterBeforeCode}{\MakeUppercase}%
}

\SetStructuralElementChapterSettings

\titlespacing*{\chapter}{\ChapterLeftMargin}{-30pt}{8pt}
\titleformat{\chapter}[block]{\ChapterFormat}{\thechapter}{\ChapterSep}{\ChapterBeforeCode}{}

\newcommand{\StructuralElement}[1]{%
	\chapter*{#1}%
	\addcontentsline{toc}{chapter}{\MakeUppercase{#1}}%
}

\newenvironment{MainPart}%
	{\SetMainPartChapterSettings}%
	{\SetStructuralElementChapterSettings}
%%
%% 6.2.2 Основную часть отчета следует делить на разделы, подразделы и пункты.
%% Пункты при необходимости могут делиться на подпункты.
%% Разделы и подразделы отчета должны иметь заголовки.
%% Пункты и подпункты, как правило, заголовков не имеют.
%%
%% 6.2.3 Заголовки разделов и подразделов основной части отчёта следует начинать с абзацного отступа и размещать после порядкового номера, печатать с прописной буквы, полужирным шрифтом, не подчеркивать, без точки в конце.
%% Пункты и подпункты могут иметь только порядковый номер без заголовка, начинающийся с абзацного отступа.
\titlespacing*{\section}{\parindent}{*4}{*2}
\titlespacing*{\subsection}{\parindent}{*4}{*4}
\titlespacing*{\subsubsection}{\parindent}{*4}{*4}
\titlespacing*{\paragraph}{\parindent}{*0}{*1}
\titleformat{\section}{\bigsize\bfseries}{\thesection}{1em}{}{}{}
\titleformat{\subsection}{\bigsize\bfseries}{\thesubsection}{1em}{}{}{}
\titleformat{\subsubsection}{\bigsize\bfseries}{\thesubsubsection}{1em}{}{}{}
%%
%% 6.2.4 Если заголовок включает несколько предложений, их разделяют точками.
%% Переносы слов в заголовках не допускаются.
%%
%% 6.3 Нумерация страниц отчета
%%
%% 6.3.1 Страницы отчета следует нумеровать арабскими цифрами, соблюдая сквозную нумерацию по всему тексту отчета, включая приложения.
%% Номер страницы проставляется в центре нижней части страницы без точки.
%% Приложения, которые приведены в отчете о НИР и имеющие собственную нумерацию, допускается не перенумеровать.
%%
%% 6.3.2 Титульный лист включают в общую нумерацию страниц отчета.
%% Номер страницы на титульном листе не проставляют.
%%
%% 6.3.3 Иллюстрации и таблицы, расположенные на отдельных листах, включают в общую нумерацию страниц отчета.
%% Иллюстрации и таблицы на листе формата А3 учитывают как одну страницу.
%%
%% 6.4 Нумерация разделов, подразделов, пунктов, подпунктов и книг отчета
%%
%% 6.4.1 Разделы должны иметь порядковые номера в пределах всего отчета, обозначенные арабскими цифрами без точки и расположенные с абзацного отступа.
%% Подразделы должны иметь нумерацию в пределах каждого раздела.
%% Номер подраздела состоит из номеров раздела и подраздела, разделенных точкой.
%% В конце номера подраздела точка не ставится.
%% Разделы, как и подразделы, могут состоять из одного или нескольких пунктов.
%%
%% 6.4.2 Если отчет не имеет подразделов, то нумерация пунктов в нем должна быть в пределах каждого раздела и номер пункта должен состоять из номеров раздела и пункта, разделенных точкой.
%% В конце номера пункта точка не ставится.
%%
%% Если отчет имеет подразделы, то нумерация пунктов должна быть в пределах подраздела и номер пункта должен состоять из номеров раздела, подраздела и пункта, разделенных точками.
%%
%% 6.4.3 Если раздел или подраздел состоит из одного пункта, то пункт не нумеруется.
%%
%% 6.4.4 Если текст отчета подразделяется только на пункты, они нумеруются порядковыми номерами в пределах отчета.
%%
%% 6.4.5 Пункты при необходимости могут быть разбиты на подпункты, которые должны иметь порядковую нумерацию в пределах каждого пункта: 4.2.1.1, 4.2.1.2, 4.2.1.3 и т.д.
\setcounter{tocdepth}{3}
\setcounter{secnumdepth}{3}
%%
%% 6.4.6 Внутри пунктов или подпунктов могут быть приведены перечисления.
%% Перед каждым элементом перечисления следует ставить тире.
\renewcommand{\labelitemi}{—}
\renewcommand{\labelitemii}{—}
%% При необходимости ссылки в тексте отчета на один из элементов перечисления вместо тире ставят строчные буквы русского алфавита со скобкой, начиная с буквы "а" (за исключением букв ё, з, й, о, ч, ъ, ы, ь).
\renewcommand{\labelenumi}{\asbuk{enumi})}
\renewcommand{\labelenumii}{\arabic{enumii})}
\usepackage{enumitem}

\makeatletter
\AddEnumerateCounter{\asbuk}{\@asbuk}{ю)}
	\makeatother
\setlist{nosep, leftmargin=\parindent}
%% Простые перечисления отделяются запятой, сложные — точкой с запятой.
%%
%% При наличии конкретного числа перечислений допускается перед каждым элементом перечисления ставить арабские цифры, после которых ставится скобка.
%%
%% Перечисления приводятся с абзацного отступа в столбик.
%%
%% 6.4.7 Заголовки должны четко и кратко отражать содержание разделов, подразделов.
%% Если заголовок состоит из двух предложений, их разделяют точкой.
%%
%% 6.4.8 Если отчет состоит из двух и более книг, каждая книга должна иметь свой порядковый номер.
%% Номер каждой книги следует проставлять арабскими цифрами на титульном листе под указанием вида отчета: "Книга 2".
%%
%% 6.5 Иллюстрации
\usepackage{graphicx}
\usepackage{float}

\usepackage[tableposition=top,singlelinecheck=false]{caption}
\usepackage{subcaption}

\DeclareCaptionLabelFormat{gostfigure}{Рисунок #2}
\DeclareCaptionLabelFormat{gosttable}{Таблица #2}
\DeclareCaptionLabelSeparator{gost}{~—~}
\captionsetup{labelsep=gost}
\captionsetup*[figure]{labelformat=gostfigure}
\captionsetup*[table]{labelformat=gosttable}
\renewcommand{\thesubfigure}{\asbuk{subfigure}}

\usepackage{pgfplots}
\pgfplotsset{compat=newest}
%%
%% 6.5.1 Иллюстрации (чертежи, графики, схемы, компьютерные распечатки, диаграммы, фотоснимки) следует располагать в отчете непосредственно после текста отчета, где они упоминаются впервые, или на следующей странице (по возможности ближе к соответствующим частям текста отчета).
%% На все иллюстрации в отчете должны быть даны ссылки.
%% При ссылке необходимо писать слово "рисунок" и его номер, например: "в соответствии с рисунком 2" и т.д.
\newcommand{\img}[3]{%
	\begin{figure}[ht]%
		\center{\includegraphics[#1]{inc/img/#2}}%
		\captionsetup{justification=centering}%
		\caption{#3}%
		\label{img:#2}%
	\end{figure}%
}
\newcommand{\imgh}[3]{%
	\begin{figure}[H]%
		\center{\includegraphics[#1]{inc/img/#2}}%
		\captionsetup{justification=centering}%
		\caption{#3}%
		\label{img:#2}%
	\end{figure}%
}
\newcommand{\imgp}[3]{%
	\begin{figure}[p]%
		\center{\includegraphics[#1]{inc/img/#2}}%
		\captionsetup{justification=centering}%
		\caption{#3}%
		\label{img:#2}%
	\end{figure}%
}
%%
%% 6.5.2 Чертежи, графики, диаграммы, схемы, помещаемые в отчете, должны соответствовать требованиям стандартов Единой системы конструкторской документации (ЕСКД).
%%
%% 6.5.3 Количество иллюстраций должно быть достаточным для пояснения излагаемого текста отчета.
%% Не рекомендуется в отчете о НИР приводить объемные рисунки.
%%
%% 6.5.4 Иллюстрации, за исключением иллюстраций, приведенных в приложениях, следует нумеровать арабскими цифрами сквозной нумерацией.
%% Если рисунок один, то он обозначается: Рисунок 1.
%%   Пример — Рисунок 1 — Схема прибора
%%
%% 6.5.5 Иллюстрации каждого приложения обозначают отдельной нумерацией арабскими цифрами с добавлением перед цифрой обозначения приложения: Рисунок А.3.
%%
%% 6.5.6 Допускается нумеровать иллюстрации в пределах раздела отчета.
%% В этом случае номер иллюстрации состоит из номера раздела и порядкового номера иллюстрации, разделенных точкой: Рисунок 2.1.
%%
%% 6.5.7 Иллюстрации при необходимости могут иметь наименование и пояснительные данные (подрисуночный текст).
%% Слово "Рисунок", его номер и через тире наименование помещают после пояснительных данных и располагают в центре под рисунком без точки в конце.
%%   Пример — Рисунок 2 — Оформление таблицы
%%
%% 6.5.8 Если наименование рисунка состоит из нескольких строк, то его следует записывать через один межстрочный интервал.
%% Наименование рисунка приводят с прописной буквы без точки в конце.
%% Перенос слов в наименовании графического материала не допускается.
%%
%% 6.6 Таблицы
\renewcommand{\arraystretch}{1.3}

\usepackage{multirow}
\usepackage{rotating}
\usepackage{pdflscape}
\usepackage{afterpage}

\newcommand{\Lpagenumber}{\ifdim\textwidth=\linewidth\else\bgroup
	\dimendef\margin=0 %use \margin instead of \dimen0
	\ifodd\value{page}\margin=\oddsidemargin
	\else\margin=\evensidemargin
	\fi
	\raisebox{\dimexpr -\topmargin-\headheight-\headsep-0.5\linewidth}[0pt][0pt]{%
		\rlap{\hspace{\dimexpr \textheight+\footskip}%
			\llap{\rotatebox{90}{\thepage}}}}%
	\egroup\fi}

\newcommand*{\AddEverypageHook}[1]{%
	\AddToHook{shipout/background}{\put(1in,-1in){#1}}}

%\AddEverypageHook{\Lpagenumber}%

\newcommand{\TableHeader}[2]{%
	\parbox{#1}{%
		\everypar{\hspace*{0pt}}%
		\vspace{.5\baselineskip}%
		\centering{\textbf{#2}}%
		\vspace{.5\baselineskip}%
	}%
}
%%
%% 6.6.1 Цифровой материал должен оформляться в виде таблиц.
%% Таблицы применяют для наглядности и удобства сравнения показателей.
%%
%% 6.6.2 Таблицу следует располагать непосредственно после текста, в котором она упоминается впервые, или на следующей странице.
%%
%% На все таблицы в отчете должны быть ссылки.
%% При ссылке следует печатать слово "таблица" с указанием ее номера.
%%
%% 6.6.3 Наименование таблицы, при ее* наличии, должно отражать ее содержание, быть точным, кратким.
%% Наименование следует помещать над таблицей слева, без абзацного отступа в следующем формате: Таблица Номер таблицы — Наименование таблицы.
%% Наименование таблицы приводят с прописной буквы без точки в конце.
%%   * Вероятно ошибка оригинала. Следует читать "его". - Примечание изготовителя базы данных.
%%
%% Если наименование таблицы занимает две строки и более, то его следует записывать через один межстрочный интервал.
%%
%% Таблицу с большим количеством строк допускается переносить на другую страницу.
%% При переносе части таблицы на другую страницу слово "Таблица", ее номер и наименование указывают один раз слева над первой частью таблицы, а над другими частями также слева пишут слова "Продолжение таблицы" и указывают номер таблицы.
%%
%% При делении таблицы на части допускается ее головку или боковик заменять соответственно номерами граф и строк.
%% При этом нумеруют арабскими цифрами графы и (или) строки первой части таблицы.
%% Таблица оформляется в соответствии с рисунком 1.
%%
%% 6.6.4 Таблицы, за исключением таблиц приложений, следует нумеровать арабскими цифрами сквозной нумерацией.
%%
%% Таблицы каждого приложения обозначаются отдельной нумерацией арабскими цифрами с добавлением перед цифрой обозначения приложения.
%% Если в отчете одна таблица, она должна быть обозначена "Таблица 1" или "Таблица А.1" (если она приведена в приложении А).
%%
%% Допускается нумеровать таблицы в пределах раздела при большом объеме отчета.
%% В этом случае номер таблицы состоит из номера раздела и порядкового номера таблицы, разделенных точкой: Таблица 2.3.
%%
%% 6.6.5 Заголовки граф и строк таблицы следует печатать с прописной буквы, а подзаголовки граф — со строчной буквы, если они составляют одно предложение с заголовком, или с прописной буквы, если они имеют самостоятельное значение.
%% В конце заголовков и подзаголовков таблиц точки не ставятся.
%% Названия заголовков и подзаголовков таблиц указывают в единственном числе.
%%
%% 6.6.6 Таблицы слева, справа, сверху и снизу ограничивают линиями.
%% Разделять заголовки и подзаголовки боковика и граф диагональными линиями не допускается.
%% Заголовки граф выравнивают по центру, а заголовки строк — по левому краю.
%%
%% Горизонтальные и вертикальные линии, разграничивающие строки таблицы, допускается не проводить, если их отсутствие не затрудняет пользование таблицей.
%%
%% 6.6.7 Текст, повторяющийся в строках одной и той же графы и состоящий из одиночных слов, заменяют кавычками.
%% Ставить кавычки вместо повторяющихся цифр, буквенно-цифровых обозначений, знаков и символов не допускается.
%%
%% Если текст повторяется, то при первом повторении его заменяют словами "то же", а далее кавычками.
%%
%% В таблице допускается применять размер шрифта меньше, чем в тексте отчета.
%%
%% 6.7 Примечания и сноски
\renewcommand*{\thefootnote}{\arabic{footnote})}
\renewcommand{\footnoterule}{%
	\kern -3pt%
	\hrule width 40mm height .4pt%
	\kern 2.6pt%
}
%%
%% 6.7.1 Примечания приводят в отчете, если необходимы пояснения или справочные данные к содержанию текста, таблиц или графического материала.
%%
%% 6.7.2 Слово "Примечание" следует печатать с прописной буквы с абзацного отступа, не подчеркивая.
%%
%% 6.7.3 Примечания следует помещать непосредственно после текстового, графического материала или таблицы, к которым относятся эти примечания.
%% Если примечание одно, то после слова "Примечание" ставится тире и текст примечания печатают с прописной буквы.
%% Одно примечание не нумеруется. Несколько примечаний нумеруют по порядку арабскими цифрами без точки.
%%
%% 6.7.4 При необходимости дополнительного пояснения в отчете допускается использовать примечание, оформленное в виде сноски.
%% Знак сноски ставят без пробела непосредственно после того слова, числа, символа, предложения, к которому дается пояснение.
%% Знак сноски указывается надстрочно арабскими цифрами.
%% Допускается вместо цифр использовать знак звездочка - *.
%%
%% Сноску располагают с абзацного отступа в конце страницы, на которой приведено поясняемое слово (словосочетание или данные).
%% Сноску отделяют от текста короткой сплошной тонкой горизонтальной линией с левой стороны страницы.
%%
%% 6.8 Формулы и уравнения
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{icomma}

\DeclareMathOperator{\sign}{sign}
%%
%% 6.8.1 Уравнения и формулы следует выделять из текста в отдельную строку.
%% Выше и ниже каждой формулы или уравнения должно быть оставлено не менее одной свободной строки.
%% Если уравнение не умещается в одну строку, оно должно быть перенесено после знака равенства (=) или после знаков плюс (+), минус (-), умножения (х), деления (:) или других математических знаков.
%% На новой строке знак повторяется.
%% При переносе формулы на знаке, символизирующем операцию умножения, применяют знак "X".
%%
%% 6.8.2 Пояснение значений символов и числовых коэффициентов следует приводить непосредственно под формулой в той же последовательности, в которой они представлены в формуле.
%% Значение каждого символа и числового коэффициента необходимо приводить с новой строки.
%% Первую строку пояснения начинают со слова "где" без двоеточия с абзаца.
%%
%% 6.8.3 Формулы в отчете следует располагать посередине строки и обозначать порядковой нумерацией в пределах всего отчета арабскими цифрами в круглых скобках в крайнем правом положении на строке.
%% Одну формулу обозначают (1).
%%
%% 6.8.4 Ссылки в отчете на порядковые номера формул приводятся в скобках: в формуле (1).
%%
%% 6.8.5 Формулы, помещаемые в приложениях, нумеруются арабскими цифрами в пределах каждого приложения с добавлением перед каждой цифрой обозначения приложения: (В.1).
%%
%% Допускается нумерация формул в пределах раздела.
%% В этом случае номер формулы состоит из номера раздела и порядкового номера формулы, разделенных точкой: (3.1).
%%
%% 6.9 Ссылки
\usepackage[unicode]{hyperref}
\hypersetup{hidelinks}

\usepackage{csquotes}
\usepackage[%
	backend=biber,
	bibencoding=utf8,
	language=auto,
	style=gost-numeric,
	sorting=none,
]{biblatex}
\addbibresource{91-references.bib}

% Режим доступа вместо URL в biblatex
\DeclareFieldFormat{url}{Режим доступа\addcolon\space\url{#1}}
% Дата обращения без сокращений в biblatex
\DeclareFieldFormat{urldate}{(дата обращения\addcolon\space\urldate{#1})}
%%
%% 6.9.1 В отчете о НИР рекомендуется приводить ссылки на использованные источники.
%% При нумерации ссылок на документы, использованные при составлении отчета, приводится сплошная нумерация для всего текста отчета в целом или для отдельных разделов.
%% Порядковый номер ссылки (отсылки) приводят арабскими цифрами в квадратных скобках в конце текста ссылки.
%% Порядковый номер библиографического описания источника в списке использованных источников соответствует номеру ссылки.
%%
%% 6.9.2 Ссылаться следует на документ в целом или на его разделы и приложения.
%%
%% 6.9.3 При ссылках на стандарты и технические условия указывают их обозначение, при этом допускается не указывать год их утверждения при условии полного описания стандарта и технических условий в списке использованных источников в соответствии с ГОСТ 7.1.


%% for title-page
\usepackage{wrapfig}
%%
\makeatletter
	\def\vhrulefill#1{\leavevmode\leaders\hrule\@height#1\hfill\kern\z@}
\makeatother


%% for listings
\usepackage{algorithm}
\usepackage{algpseudocode}
%%
\renewcommand{\listalgorithmname}{Список алгоритмов}
\floatname{algorithm}{Алгоритм}
\algrenewcommand\algorithmicwhile{\textbf{До тех пор, пока}}
\algrenewcommand\algorithmicdo{\textbf{выполнять}}
\algrenewcommand\algorithmicrepeat{\textbf{Повторять}}
\algrenewcommand\algorithmicuntil{\textbf{Пока выполняется}}
\algrenewcommand\algorithmicend{\textbf{Конец}}
\algrenewcommand\algorithmicif{\textbf{Если}}
\algrenewcommand\algorithmicelse{\textbf{иначе}}
\algrenewcommand\algorithmicthen{\textbf{тогда}}
\algrenewcommand\algorithmicfor{\textbf{Цикл}}
\algrenewcommand\algorithmicforall{\textbf{Для всех}}
\algrenewcommand\algorithmicfunction{\textbf{Функция}}
\algrenewcommand\algorithmicprocedure{\textbf{Процедура}}
\algrenewcommand\algorithmicloop{\textbf{Зациклить}}
\algrenewcommand\algorithmicrequire{\textbf{Условия:}}
\algrenewcommand\algorithmicensure{\textbf{Обеспечивающие условия:}}
\algrenewcommand\algorithmicreturn{\textbf{Возвратить}}
\algrenewtext{EndWhile}{\textbf{Конец цикла}}
\algrenewtext{EndLoop}{\textbf{Конец зацикливания}}
\algrenewtext{EndFor}{\textbf{Конец цикла}}
\algrenewtext{EndFunction}{\textbf{Конец функции}}
\algrenewtext{EndProcedure}{\textbf{Конец процедуры}}
\algrenewtext{EndIf}{\textbf{Конец условия}}
\algrenewtext{EndFor}{\textbf{Конец цикла}}
\algrenewtext{BeginAlgorithm}{\textbf{Начало алгоритма}}
\algrenewtext{EndAlgorithm}{\textbf{Конец алгоритма}}
\algrenewtext{BeginBlock}{\textbf{Начало блока. }}
\algrenewtext{EndBlock}{\textbf{Конец блока}}
\algrenewtext{ElsIf}{\textbf{иначе если }}
%%
\newenvironment{Algorithm}[2]
	{\begin{center}
		\captionof{lstlisting}{#1}
		\label{alg:#2}
		\vspace{-0.8\baselineskip}\hrulefill}
	{\vspace{-0.8\baselineskip}\hrulefill
	\end{center}}
%%
\usepackage{listings}
\usepackage{listingsutf8}
\usepackage{xcolor}
\lstset{
	basicstyle=\ttfamily,
	breakatwhitespace=true,
	breaklines=true,
	commentstyle=\color{gray},
	frame=single,
	inputencoding=utf8/koi8-r,
	keywordstyle=\color{blue}\bfseries,
	showstringspaces=false,
	stringstyle=\color{red},
	tabsize=8,
	xleftmargin=3pt,
	xrightmargin=3pt,
}
%%
\lstdefinelanguage{Bash}{
	keywords={mkdir, cd, cmake},
	keywordstyle=\color{blue}\bfseries,
	ndkeywords={sudo},
	ndkeywordstyle=\color{purple}\bfseries,
	identifierstyle=\color{black},
	sensitive=false%,
	%	comment=[l]{\#}
}
\lstdefinelanguage{C++23}[]{C++}{
	morekeywords={constexpr}
}
%%
\newcommand{\code}[1]{\texttt{#1}}

%% reduce indent in contents
%% https://tex.stackexchange.com/questions/409569/change-indent-in-standard-table-of-content-not-tocloft
\usepackage{etoolbox}
\makeatletter
% \patchcmd{<cmd>}{<search>}{<replace>}{<success>}{<failure>}
\patchcmd{\l@section}{1.5em}{1em}{}{}
\patchcmd{\l@subsection}{3.8em}{2em}{}{}
\patchcmd{\l@subsubsection}{7.0em}{3em}{}{}
\makeatother
